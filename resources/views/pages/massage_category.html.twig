{% extends "base.html.twig" %}
{% block content %}
<div class="gray-block">
{% include 'components/massage_category_menu_list.html.twig' %}
{% if pageData.text is defined and pageData.text is not empty %}
<div class="page-text container massage-category-text">
{{ pageData.text|raw }}
</div>
{% endif %}
{% if massages %}
<div class="content-block">
<div class="container">
{% include 'components/massage_list.html.twig' %}
</div>
</div>
{% else %}
<div class="content-block empty-page">
{{ 'empty.massage.category'|trans }}
</div>
{% endif %}
</div>
<div class="white-block"></div>
<script>
(() => {
  'use strict';
  const objects = document.getElementsByClassName('asyncImage');
  Array.from(objects).map((item) => {
    const img = new Image();
    img.src = item.dataset.src;
    img.onload = () => {
      item.classList.remove('asyncImage');
      return item.nodeName === 'IMG' ? 
        item.src = item.dataset.src :        
        item.style.backgroundImage = `url(${item.dataset.src})`;
    };
  });
})();
</script>  
{% include 'components/wait_for_you_block.html.twig' %}
{% endblock %}